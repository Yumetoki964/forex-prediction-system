# Render.com用Dockerfile（ポート修正版）
FROM python:3.11-slim

WORKDIR /app

# 最小限の依存関係をインストール
RUN pip install fastapi uvicorn[standard]

# シンプルなテストファイルをコピー
COPY simple_test.py .

# Renderがポートを自動設定することを明示
ENV PORT=10000

# uvicornを直接実行（$PORTを使用）
CMD uvicorn simple_test:app --host 0.0.0.0 --port $PORT